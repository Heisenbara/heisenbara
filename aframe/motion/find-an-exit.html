<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		
		<title>A-Find-An-Exit-Room</title>
		<meta name="description" content="A small room with moving stones and four exits. Web VR experience.">
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script> 
	</head>
  
	<body>
		<a-scene light="defaultLightsEnabled: false; shadowMapType: basic" shadow="type: pcfsoft; autoUpdate: true" background="color: indigo">
			<a-assets>
				<img id="material-stone" src="materials/stone-1-tile_256.png">
				<audio id="move" src="audio/move-stone.mp3"></audio>
				
				<a-mixin id="stone" geometry="primitive: box" material="src: #material-stone; color:ivory; shader: standard; roughness: 1; metalness: 0;" shadow="receive: true;" width="1" height="1" depth="1"></a-mixin>
				
				<a-mixin id="width-2" geometry="width: 2"></a-mixin>
				<a-mixin id="width-3" geometry="width: 3"></a-mixin>
				<a-mixin id="height-5" geometry="height: 5"></a-mixin>
				<a-mixin id="depth-2" geometry="depth: 2"></a-mixin>
				<a-mixin id="shadow-cast" shadow="cast: true;"></a-mixin>
				<a-mixin id="papayawhip" color="papayawhip;"></a-mixin>
				<a-mixin id="seashell" color="seashell;"></a-mixin>
				<a-mixin id="moccasin" color="moccasin;"></a-mixin>
				
				<a-mixin id="sound-move" sound="src: #move; autoplay: true; loop: true"></a-mixin>
				<a-mixin id="light-exit" light="type: point; intensity: 0.3; distance: 10; decay: 2"></a-mixin>
			</a-assets>
			
			<a-entity class="floor">
				<a-entity class=row-back-four">
					<a-entity position="-1 -0.5 4.5" mixin="stone depth-2"></a-entity>
					<a-entity position="-2 -0.5 4.5" mixin="stone papayawhip depth-2"></a-entity>
					<a-entity position="-3 -0.5 4.5" mixin="stone depth-2"></a-entity>
				</a-entity>
				<a-entity class="row-back-three">
					<a-entity position="-3 -0.5 3" mixin="stone"></a-entity>
					<a-entity position="-2 -0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 -0.5 3" mixin="stone"></a-entity>
					<a-entity position="0 -0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 -0.5 3" mixin="stone"></a-entity>
					<a-entity position="2 -0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 -0.5 3" mixin="stone"></a-entity>
					<a-entity position="4.5 -0.5 3" mixin="stone papayawhip width-2"></a-entity>
				</a-entity>
				<a-entity class="row-back-two">
					<a-entity position="-3 -0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 -0.5 2" mixin="stone"></a-entity>
					<a-entity position="-1 -0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 -0.5 2" mixin="stone moccasin"></a-entity>
					<a-entity position="1 -0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 -0.5 2" mixin="stone"></a-entity>
					<a-entity position="3 -0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="4.5 -0.5 2" mixin="stone width-2"></a-entity>
				</a-entity>
				<a-entity class="row-back-one">
					<a-entity position="-3 -0.5 1" mixin="stone"></a-entity>
					<a-entity position="-2 -0.5 1" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 -2.5 1" mixin="stone seashell height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 3500; easing: easeInSine; loop: true; from: -1 -2.5 1; to: -1 2.5 1">
					</a-entity>
					<a-entity position="0 -0.5 1" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 -2.5 1" mixin="stone seashell height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 1500; easing: easeInSine; loop: true; from: 1 -2.5 1; to: 1 2.5 1"></a-entity>
					<a-entity position="2 -0.5 1" mixin="stone papayawhip"></a-entity> 
					<a-entity position="3 -0.5 1" mixin="stone"></a-entity>
					<a-entity position="4.5 -0.5 1" mixin="stone papayawhip width-2"></a-entity>
				</a-entity>
				<a-entity class="row-center-zero">
					<a-entity position="-3 -0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 -0.5 0" mixin="stone moccasin"></a-entity>
					<a-entity position="-1 -0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 -0.5 0" mixin="stone"></a-entity>
					<a-entity position="1 -0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 -0.5 0" mixin="stone moccasin"></a-entity>
					<a-entity position="3 -0.5 0" mixin="stone papayawhip"></a-entity>
				</a-entity>
				<a-entity class="row-front-one">
					<a-entity position="-4.5 -0.5 -1" mixin="stone papayawhip width-2"></a-entity>
					<a-entity position="-3 -0.5 -1" mixin="stone"></a-entity>
					<a-entity position="-2 -0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 -2.5 -1" mixin="stone seashell height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 1000; easing: easeInSine; loop: true; from: -1 -2.5 -1; to: -1 2.5 -1"></a-entity>
					<a-entity position="0 -0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 -2.5 -1" mixin="stone seashell height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 3000; easing: easeInSine; loop: true; from: 1 -2.5 -1; to: 1 2.5 -1"></a-entity>
					<a-entity position="2 -0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 -0.5 -1" mixin="stone"></a-entity>
					<a-entity position="3 -0.5 -1" mixin="stone"></a-entity>
				</a-entity>
				<a-entity class="row-front-two">
					<a-entity position="-4.5 -0.5 -2" mixin="stone width-2"></a-entity>
					<a-entity position="-3 -0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 -0.5 -2" mixin="stone"></a-entity>
					<a-entity position="-1 -0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 -0.5 -2" mixin="stone moccasin"></a-entity>
					<a-entity position="1 -0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 -0.5 -2" mixin="stone"></a-entity>
					<a-entity position="3 -0.5 -2" mixin="stone papayawhip"></a-entity>
				</a-entity>
				<a-entity class=row-front-three">
					<a-entity position="-4.5 -0.5 -3" mixin="stone papayawhip width-2"></a-entity>
					<a-entity position="-3 -0.5 -3" mixin="stone"></a-entity>
					<a-entity position="-2 -0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 -0.5 -3" mixin="stone"></a-entity>
					<a-entity position="0 -0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 -0.5 -3" mixin="stone"></a-entity>
					<a-entity position="2 -0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 -0.5 -3" mixin="stone"></a-entity>
				</a-entity>
				<a-entity class=row-front-four">
					<a-entity position="1 -0.5 -4.5" mixin="stone ivory depth-2"></a-entity>
					<a-entity position="2 -0.5 -4.5" mixin="stone papayawhip depth-2"></a-entity>
					<a-entity position="3 -0.5 -4.5" mixin="stone ivory depth-2"></a-entity>
				</a-entity>
			</a-entity>
			<!-- End floor -->
			
			<a-entity class="ceiling" position="0 5 0">
				<a-entity class="row-back-three">
					<a-entity position="-3 0.5 3" mixin="stone"></a-entity>
					<a-entity position="-2 0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 0.5 3" mixin="stone"></a-entity>
					<a-entity position="0 0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 0.5 3" mixin="stone"></a-entity>
					<a-entity position="2 0.5 3" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 0.5 3" mixin="stone"></a-entity>
				</a-entity>
				<a-entity class="row-back-two">
					<a-entity position="-3 0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 0.5 2" mixin="stone"></a-entity>
					<a-entity position="-1 0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 2.5 2" mixin="stone moccasin height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 2500; easing: easeInSine; loop: true; from: 0 2.5 2; to: 0 -2.5 2"></a-entity>
					<a-entity position="1 0.5 2" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 0.5 2" mixin="stone"></a-entity>
					<a-entity position="3 0.5 2" mixin="stone papayawhip"></a-entity>
				</a-entity>
				<a-entity class="row-back-one">
					<a-entity position="-3 0.5 1" mixin="stone"></a-entity>
					<a-entity position="-2 0.5 1" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 0.5 1" mixin="stone seashell"></a-entity>
					<a-entity position="0 0.5 1" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 0.5 1" mixin="stone seashell"></a-entity>
					<a-entity position="2 0.5 1" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 0.5 1" mixin="stone"></a-entity>
				</a-entity>
				<a-entity class="row-center-zero">
					<a-entity position="-3 0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 2.5 0" mixin="stone moccasin height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 1250; easing: easeInSine; loop: true; from: -2 2.5 0; to: -2 -2.5 0"></a-entity>
					<a-entity position="-1 0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 0.5 0" mixin="stone"></a-entity>
					<a-entity position="1 0.5 0" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 2.5 0" mixin="stone moccasin height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 1750; easing: easeInSine; loop: true; from: 2 2.5 0; to: 2 -2.5 0"></a-entity>
					<a-entity position="3 0.5 0" mixin="stone papayawhip"></a-entity>
				</a-entity>
				<a-entity class="row-front-one">
					<a-entity position="-3 0.5 -1" mixin="stone"></a-entity>
					<a-entity position="-2 0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 0.5 -1" mixin="stone seashell"></a-entity>
					<a-entity position="0 0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 0.5 -1" mixin="stone seashell"></a-entity>
					<a-entity position="2 0.5 -1" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 0.5 -1" mixin="stone"></a-entity>
				</a-entity>
				<a-entity class="row-front-two">
					<a-entity position="-3 0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="-2 0.5 -2" mixin="stone"></a-entity>
					<a-entity position="-1 0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="0 2.5 -2" mixin="stone moccasin height-5 shadow-cast sound-move" material="repeat: 1 2.5;" animation="property: position; dir: alternate; dur: 3000; delay: 2750; easing: easeInSine; loop: true; from: 0 2.5 -2; to: 0 -2.5 -2"></a-entity>
					<a-entity position="1 0.5 -2" mixin="stone papayawhip"></a-entity>
					<a-entity position="2 0.5 -2" mixin="stone"></a-entity>
					<a-entity position="3 0.5 -2" mixin="stone papayawhip"></a-entity>
				</a-entity>
				<a-entity class=row-front-three">
					<a-entity position="-3 0.5 -3" mixin="stone"></a-entity>
					<a-entity position="-2 0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="-1 0.5 -3" mixin="stone"></a-entity>
					<a-entity position="0 0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="1 0.5 -3" mixin="stone"></a-entity>
					<a-entity position="2 0.5 -3" mixin="stone papayawhip"></a-entity>
					<a-entity position="3 0.5 -3" mixin="stone"></a-entity>
				</a-entity>
			</a-entity>
			<!-- End ceiling -->
			
			<a-entity class="wall-front">
				<a-entity position="-3 2.5 -3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="-2 2.5 -3.5" mixin="stone papayawhip height-5 depth-2 shadow-cast sound-move" material="repeat: 1 5;" animation="property: position; dir: alternate; dur: 3000; easing: easeInSine; loop: true; from: -2 2.5 -3.5; to: -2 2.5 -2.5"></a-entity>
				<a-entity position="-1 2.5 -3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="0 2.5 -3" mixin="stone papayawhip height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="1 2.5 -3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="2 2.5 -5" mixin="stone papayawhip width-3 height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="3 2.5 -3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
			</a-entity>
			<a-entity class="wall-back">
				<a-entity position="-3 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="-2 2.5 5" mixin="stone papayawhip width-3 height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="-1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="0 2.5 3" mixin="stone papayawhip height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="2 2.5 3.5" mixin="stone papayawhip height-5 depth-2 shadow-cast sound-move" material="repeat: 1 5;" animation="property: position; dir: alternate; dur: 3000; easing: easeInSine; loop: true; from: 2 2.5 3.5; to: 2 2.5 2.5"></a-entity>
				<a-entity position="3 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
			</a-entity>
			<a-entity class="wall-left" rotation="0 -90 0" position="">
				<a-entity position="-2 2.5 5" mixin="stone papayawhip width-3 height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="-1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="0 2.5 3" mixin="stone papayawhip height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="2 2.5 3" mixin="stone papayawhip height-5 shadow-cast sound-move" material="repeat: 1 5;" animation="property: position; dir: alternate; dur: 3000; delay: 750; easing: easeInSine; loop: true; from: 2 2.5 3; to: 2 2.5 2"></a-entity>
			</a-entity>
			<a-entity class="wall-right" rotation="0 90 0" position="">
				<a-entity position="-2 2.5 5" mixin="stone papayawhip width-3 height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="-1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="0 2.5 3" mixin="stone papayawhip height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="1 2.5 3" mixin="stone height-5" material="repeat: 1 5;"></a-entity>
				<a-entity position="2 2.5 3" mixin="stone papayawhip height-5 shadow-cast sound-move" material="repeat: 1 5;" animation="property: position; dir: alternate; dur: 3000; delay: 750; easing: easeInSine; loop: true; from: 2 2.5 3; to: 2 2.5 2"></a-entity>
			</a-entity>
			<!-- End walls -->
			
			<!-- Room lights -->
			<a-entity class="light-center-top" light="type: point; intensity: 0.3; angle: 20; distance: 2; decay: 0; penumbra: 1; color: lightyellow; castShadow: true; shadowMapHeight: 2048; shadowMapWidth: 2048;" rotation="90 90 0" position="0 4.8 0"></a-entity>
			<a-entity class="light-center-bottom" light="type: spot; intensity: 0.01; angle: 30; distance: 4; decay: 0; penumbra: 1; color: moccasin; castShadow: true; shadowMapHeight: 2048; shadowMapWidth: 2048;" rotation="-90 90 0" position="0 2.5 0"></a-entity>
			<a-entity class="light-front" light="type: spot; intensity: 0.6; angle: 60; distance: 10; decay: 0; penumbra: 1; color: lightyellow; castShadow: true; shadowMapHeight: 2048; shadowMapWidth: 2048;" rotation="-100 0 0" position="0.3 3 -2"></a-entity>
			<a-entity class="light-back" light="type: spot; intensity: 0.6; angle: 60; distance: 10; decay: 0; penumbra: 1; color: lightyellow; castShadow: true; shadowMapHeight: 2048; shadowMapWidth: 2048;" rotation="-90 -10 0" position="-0.3 3 2"></a-entity>
			<!-- End Room lights -->
			
			<!-- Lights at Exit -->
			<a-entity position="3.5 2 -4.2" mixin="light-exit" class="exitlight_front-right"></a-entity>
			<a-entity position="4.2 2 3.5" mixin="light-exit" class="exitlight_right-back"></a-entity>
			<a-entity position="-3.5 2 4.2" mixin="light-exit" class="exitlight_back-left"></a-entity>
			<a-entity position="-4.2 2 -3.5" mixin="light-exit" class="exitlight_right-back"></a-entity>
			
			<!-- Globals -->
			<a-entity light="type: hemisphere; color: seashell; groundColor: salmon; intensity: 0.4"></a-entity>
			
			<a-circle class="ground" radius="25" material="color: maroon; side: double; shader: standard" position="0 -1 0" rotation="-90 0 0" shadow="receive: true"></a-circle>
		</a-scene>
	</body>
</html>
