<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<title>Colliding Pyramids In A Particled Scene - VR</title>

		<meta name="description" content="Colliding Pyramids In A Particled Scene - VR, made with A-Frame">

		<script src="../js/aframe.min.js"></script>
		<script src="../js/aframe-event-set-component.min.js"></script>
		<script src="../js/gradientsky.min.js"></script>
		<script src="../js/aframe-particle-system-component.min.js"></script>
	</head>

	<body class="a-body">
		<a-scene light="defaultLightsEnabled: false" shadow="type: pcfsoft; autoUpdate: true" light="shadowMapType: pcfsoft" stats>

			<a-assets>
				<a-mixin id="move-down" animation__move="property: position; from: 0 0.05 0; to: 0 -0.9 0; dir: alternate; easing: linear; loop: true; dur: 5000" animation__turnaround="property: rotation; from: 0 0 0; to: 0 360 0; dir: normal; easing: linear; loop: true; dur: 5000"></a-mixin>
				<a-mixin id="move-up" animation__move="property: position; from: 0 -0.05 0; to: 0 0.9 0; dir: alternate; easing: linear; loop: true; dur: 5000" animation__turnaround="property: rotation; from: 0 0 180; to: 0 -360 180; dir: normal; easing: linear; loop: true; dur: 5000"></a-mixin>

				<a-mixin id="triangle" geometry="primitive: triangle; shader: shader"></a-mixin>
				<a-mixin id="plane" geometry="primitive: plane; width: 1; height: 1; shader: standard"></a-mixin>
				<a-mixin id="rotate" rotation="45 45 45">
				<a-mixin id="color-one" material="color: violet; side: double; shader: standard; roughness: 1; metalness: 0;">
				<a-mixin id="color-two" material="color: darkmagenta; side: double; shader: standard; roughness: 1; metalness: 0">
				<a-mixin id="shadow" shadow="receive: true; cast: true"></a-mixin>

				<a-mixin id="light-exit" light="type: point; intensity: 0.75; distance: 10; decay: 2"></a-mixin>
			  
				<audio id="audioloop" src="audio/Sci_Fi_Vortex.mp3" autoplay="true" preload="auto" loop="true"></audio>
			</a-assets>

			<a-entity position="0 2.25 -15" particle-system="preset: dust; particleCount: 5000"></a-entity>

			<a-entity position="0 1.5 -2" id="pyramids">
				<a-entity mixin="move-down">
					<a-entity mixin="triangle color-one shadow" rotation="-30 0 0" position="0 0.43 0.25"></a-entity>
					<a-entity mixin="triangle color-one shadow" rotation="30 90 0" position="-0.25 0.43 0"></a-entity>
					<a-entity mixin="triangle color-one shadow" rotation="30 0 0" position="0 0.43 -0.25"></a-entity>
					<a-entity mixin="triangle color-one shadow" rotation="-30 90 0" position="0.25 0.43 0"></a-entity>
					<a-entity mixin="plane color-one shadow" rotation="-90 0 0" position="0 0 0"></a-entity>
				</a-entity>
				<a-entity mixin="move-up">
					<a-entity mixin="triangle color-two shadow" rotation="-30 0 0" position="0 0.43 0.25"></a-entity>
					<a-entity mixin="triangle color-two shadow" rotation="30 90 0" position="-0.25 0.43 0"></a-entity>
					<a-entity mixin="triangle color-two shadow" rotation="30 0 0" position="0 0.43 -0.25"></a-entity>
					<a-entity mixin="triangle color-two shadow" rotation="-30 90 0" position="0.25 0.43 0"></a-entity>
					<a-entity mixin="plane color-two shadow" rotation="-90 0 0" position="0 0 0"></a-entity>
				</a-entity>
			</a-entity>

			<a-entity position="4 4 -3" mixin="light-exit"></a-entity>
			<a-entity position="-2 1 -2" mixin="light-exit"></a-entity>

			<!-- Globals -->
			<a-gradient-sky material="shader: gradient; topColor: 80 20 150; bottomColor: 255 128 0; side: back"></a-gradient-sky>

			<a-entity class="scene-directional" light="type: directional; color: lightyellow; intensity: 0.8; castShadow: true; shadowCameraLeft: -12; shadowCameraRight: 12; shadowCameraTop: 10; shadowMapHeight: 2048; shadowMapWidth: 2048;" position="2 5 2.5"></a-entity>

			<a-entity light="type: hemisphere; intensity: 1; color: royalblue; groundColor: cornsilk" position="0 2 1.5"></a-entity>

			<a-circle class="ground" radius="8" material="color: orange; side: double; transparent: true; opacity: 0.3; shader: standard" position="0 0 0" rotation="-90 0 0" shadow="receive: true" shadow="cast: true; receive: true;"></a-circle>

		</a-scene>

	</body>
</html>
